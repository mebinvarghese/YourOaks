"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config_1 = require("../utility/config");
const workspace_models_1 = require("../utility/workspace-models");
/**
 * Build a default project path for generating.
 * @param project The project to build the path for.
 */
function buildDefaultPath(project) {
    const root = project.sourceRoot
        ? `/${project.sourceRoot}/`
        : `/${project.root}/src/`;
    const projectDirName = project.projectType === workspace_models_1.ProjectType.Application ? 'app' : 'lib';
    return `${root}${projectDirName}`;
}
exports.buildDefaultPath = buildDefaultPath;
function getProject(workspaceOrHost, projectName) {
    const workspace = isWorkspaceSchema(workspaceOrHost)
        ? workspaceOrHost
        : config_1.getWorkspace(workspaceOrHost);
    return workspace.projects[projectName];
}
exports.getProject = getProject;
function isWorkspaceSchema(workspace) {
    return !!(workspace && workspace.projects);
}
exports.isWorkspaceSchema = isWorkspaceSchema;
function isWorkspaceProject(project) {
    return !!(project && project.projectType);
}
exports.isWorkspaceProject = isWorkspaceProject;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvc2NoZW1hdGljcy9hbmd1bGFyL3V0aWxpdHkvcHJvamVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVFBLDhDQUFpRDtBQUNqRCxrRUFBNkY7QUFHN0Y7OztHQUdHO0FBQ0gsU0FBZ0IsZ0JBQWdCLENBQUMsT0FBeUI7SUFDeEQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLFVBQVU7UUFDN0IsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsR0FBRztRQUMzQixDQUFDLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUM7SUFFNUIsTUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLFdBQVcsS0FBSyw4QkFBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFFdkYsT0FBTyxHQUFHLElBQUksR0FBRyxjQUFjLEVBQUUsQ0FBQztBQUNwQyxDQUFDO0FBUkQsNENBUUM7QUFFRCxTQUFnQixVQUFVLENBQ3hCLGVBQXVDLEVBQ3ZDLFdBQW1CO0lBRW5CLE1BQU0sU0FBUyxHQUFHLGlCQUFpQixDQUFDLGVBQWUsQ0FBQztRQUNsRCxDQUFDLENBQUMsZUFBZTtRQUNqQixDQUFDLENBQUMscUJBQVksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUVsQyxPQUFPLFNBQVMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFtQyxDQUFDO0FBQzNFLENBQUM7QUFURCxnQ0FTQztBQUVELFNBQWdCLGlCQUFpQixDQUFDLFNBQWtCO0lBQ2xELE9BQU8sQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUFLLFNBQTZCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDbEUsQ0FBQztBQUZELDhDQUVDO0FBRUQsU0FBZ0Isa0JBQWtCLENBQUMsT0FBZ0I7SUFDakQsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUssT0FBNEIsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBRkQsZ0RBRUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5pbXBvcnQgeyBUcmVlIH0gZnJvbSAnQGFuZ3VsYXItZGV2a2l0L3NjaGVtYXRpY3MnO1xuaW1wb3J0IHsgZ2V0V29ya3NwYWNlIH0gZnJvbSAnLi4vdXRpbGl0eS9jb25maWcnO1xuaW1wb3J0IHsgUHJvamVjdFR5cGUsIFdvcmtzcGFjZVByb2plY3QsIFdvcmtzcGFjZVNjaGVtYSB9IGZyb20gJy4uL3V0aWxpdHkvd29ya3NwYWNlLW1vZGVscyc7XG5cblxuLyoqXG4gKiBCdWlsZCBhIGRlZmF1bHQgcHJvamVjdCBwYXRoIGZvciBnZW5lcmF0aW5nLlxuICogQHBhcmFtIHByb2plY3QgVGhlIHByb2plY3QgdG8gYnVpbGQgdGhlIHBhdGggZm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGREZWZhdWx0UGF0aChwcm9qZWN0OiBXb3Jrc3BhY2VQcm9qZWN0KTogc3RyaW5nIHtcbiAgY29uc3Qgcm9vdCA9IHByb2plY3Quc291cmNlUm9vdFxuICAgID8gYC8ke3Byb2plY3Quc291cmNlUm9vdH0vYFxuICAgIDogYC8ke3Byb2plY3Qucm9vdH0vc3JjL2A7XG5cbiAgY29uc3QgcHJvamVjdERpck5hbWUgPSBwcm9qZWN0LnByb2plY3RUeXBlID09PSBQcm9qZWN0VHlwZS5BcHBsaWNhdGlvbiA/ICdhcHAnIDogJ2xpYic7XG5cbiAgcmV0dXJuIGAke3Jvb3R9JHtwcm9qZWN0RGlyTmFtZX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvamVjdDxUUHJvamVjdFR5cGUgZXh0ZW5kcyBQcm9qZWN0VHlwZSA9IFByb2plY3RUeXBlLkFwcGxpY2F0aW9uPihcbiAgd29ya3NwYWNlT3JIb3N0OiBXb3Jrc3BhY2VTY2hlbWEgfCBUcmVlLFxuICBwcm9qZWN0TmFtZTogc3RyaW5nLFxuKTogV29ya3NwYWNlUHJvamVjdDxUUHJvamVjdFR5cGU+IHtcbiAgY29uc3Qgd29ya3NwYWNlID0gaXNXb3Jrc3BhY2VTY2hlbWEod29ya3NwYWNlT3JIb3N0KVxuICAgID8gd29ya3NwYWNlT3JIb3N0XG4gICAgOiBnZXRXb3Jrc3BhY2Uod29ya3NwYWNlT3JIb3N0KTtcblxuICByZXR1cm4gd29ya3NwYWNlLnByb2plY3RzW3Byb2plY3ROYW1lXSBhcyBXb3Jrc3BhY2VQcm9qZWN0PFRQcm9qZWN0VHlwZT47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1dvcmtzcGFjZVNjaGVtYSh3b3Jrc3BhY2U6IHVua25vd24pOiB3b3Jrc3BhY2UgaXMgV29ya3NwYWNlU2NoZW1hIHtcbiAgcmV0dXJuICEhKHdvcmtzcGFjZSAmJiAod29ya3NwYWNlIGFzIFdvcmtzcGFjZVNjaGVtYSkucHJvamVjdHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNXb3Jrc3BhY2VQcm9qZWN0KHByb2plY3Q6IHVua25vd24pOiBwcm9qZWN0IGlzIFdvcmtzcGFjZVByb2plY3Qge1xuICByZXR1cm4gISEocHJvamVjdCAmJiAocHJvamVjdCBhcyBXb3Jrc3BhY2VQcm9qZWN0KS5wcm9qZWN0VHlwZSk7XG59XG4iXX0=